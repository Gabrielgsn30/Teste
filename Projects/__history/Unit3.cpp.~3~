//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Unit3.h"
#include "Unit1.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm3 *Form3;
//---------------------------------------------------------------------------
__fastcall TForm3::TForm3(TComponent* Owner)
	: TForm(Owner)
{
 if(Edit1->Text != "")
 {
	Button2->Enabled = True;
 }
 else
  {
	   Button2->Enabled = False;
  }

}
//---------------------------------------------------------------------------
void __fastcall TForm3::Button1Click(TObject *Sender)
{


 String SQL;
 SQL = "insert  INTO [dbo].[TabDiretor] VALUES ('" + Edit2->Text + "')";
 FDQuery1->SQL->Text = SQL;
 FDQuery1->ExecSQL();

SQL="select max(ID) As ID from TabDiretor";
FDQuery2->SQL->Text=SQL;
FDQuery2->Open();
Edit1->Text = FDQuery2ID->AsString;
	   Button1->Enabled = False;

}
//---------------------------------------------------------------------------




void __fastcall TForm3::Button3Click(TObject *Sender)
{

		EditText1->ReadOnly = False;

}
//---------------------------------------------------------------------------

